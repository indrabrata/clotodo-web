{"version":3,"sources":["clotodo_web/state.cljs"],"mappings":";AAGA,GAAA,QAAAA,wCAAAC,8CAAAC;AAAA;AAAA,AAAA,AAASC,0BAAM,gDAAA,hDAACC;;AAChB,GAAA,QAAAJ,wCAAAC,8CAAAI;AAAA;AAAA,AAAA,AAASC,yBAAK,gDAAA,hDAACF;;AACf,GAAA,QAAAJ,wCAAAC,8CAAAM;AAAA;AAAA,AAAA,AAASC,iCAAa,gDAAA,hDAACJ;;AAEvB,GAAA,QAAAJ,wCAAAC,8CAAAQ;AAAA;AAAA,AAAA,AAASC,0BAAM,gDAAA,hDAACN;;AAEhB,qCAAA,rCAAMO,kFAAaC,EAAEC;AAArB,AACE,AAACC,sBAAOX,wBAAMS;;AACd,AAACE,sBAAOR,uBAAKO;;AACb,qBAAA,rBAAUE,6BAAwBH;;AAClC,4BAAA,rBAAUG,4BAAuB,AAAYC,eAAQ,AAACC,qBAAQJ;;AAEhE,qCAAA,rCAAMK;AAAN,AACE,IAAAC,qBAAa,qBAAA,rBAAUJ;AAAvB,AAAA,oBAAAI;AAAA,AAAA,QAAAA,JAAWP;AAAX,AACE,IAAAO,yBAAa,qBAAA,rBAAUJ;AAAvB,AAAA,oBAAAI;AAAA,AAAA,QAAAA,JAAWN;AAAX,AACE,AAACC,sBAAOX,wBAAMS;;AACd,OAACE,sBAAOR,uBAAK,0HAAA,2EAAA,rMAACc,0DAAQ,AAAQJ,WAAQH;;AAFxC;;;AADF","names":["js/clotodo-web","js/clotodo-web.state","js/clotodo-web.state.token","clotodo-web.state/token","reagent.core.atom","js/clotodo-web.state.user","clotodo-web.state/user","js/clotodo-web.state.current-page","clotodo-web.state/current-page","js/clotodo-web.state.error","clotodo-web.state/error","clotodo-web.state/save-token!","t","u","cljs.core/reset!","js/localStorage","js/JSON","cljs.core/clj->js","clotodo-web.state/load-token!","temp__5823__auto__","cljs.core.js__GT_clj"],"sourcesContent":["(ns clotodo-web.state\n  (:require [reagent.core :as r]))\n\n(defonce token (r/atom nil))\n(defonce user (r/atom nil))\n(defonce current-page (r/atom :dashboard))\n\n(defonce error (r/atom nil))\n\n(defn save-token! [t u]\n  (reset! token t)\n  (reset! user u)\n  (.setItem js/localStorage \"token\" t)\n  (.setItem js/localStorage \"user\" (.stringify js/JSON (clj->js u))))\n\n(defn load-token! []\n  (when-let [t (.getItem js/localStorage \"token\")]\n    (when-let [u (.getItem js/localStorage \"user\")]\n      (reset! token t)\n      (reset! user (js->clj (.parse js/JSON u) :keywordize-keys true)))))\n\n"]}