{"version":3,"sources":["clotodo_web/views/dashboard.cljs"],"mappings":"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","names":["clotodo-web.views.dashboard/dashboard-page","show-create","reagent.core.atom","show-join","room-name","is-public","join-code","p1__11999#","clotodo-web.api/get-rooms","cljs.core/reset!","clotodo-web.state/rooms","cljs.core/deref","clotodo-web.state/user","clotodo-web.state/logout!","cljs.core/empty?","iter__5503__auto__","s__12009","cljs.core/LazySeq","temp__5823__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5501__auto__","size__5502__auto__","cljs.core/count","b__12011","cljs.core/chunk-buffer","i__12010","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12008","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","room","clotodo-web.state/current-room","clotodo-web.state/current-page","p1__12001#","p1__12002#","e","clotodo-web.api/create-room","resp","p1__12000#","p1__12005#","clotodo-web.api/join-room","p1__12004#","cljs.core/chunk-first"],"sourcesContent":["(ns clotodo-web.views.dashboard\n (:require [reagent.core :as r]\n           [clotodo-web.state :as state]\n           [clotodo-web.api :as api]))\n\n\n(defn dashboard-page []\n (let [show-create (r/atom false)\n       show-join (r/atom false)\n       room-name (r/atom \"\")\n       is-public (r/atom false)\n       join-code (r/atom \"\")]\n  \n   (api/get-rooms #(reset! state/rooms %))\n  \n   (fn []\n     [:div.dashboard\n      [:header.dashboard-header\n       [:div.header-content\n        [:h1.header-title \"Clotodo\"]\n        [:div.header-user\n         [:span \"Welcome, \" (:username @state/user)]\n         [:button.btn-secondary\n          {:on-click state/logout!}\n          \"Logout\"]]]]\n     \n      [:div.dashboard-content\n       [:div.dashboard-actions\n        [:button.btn-primary\n         {:on-click #(reset! show-create true)}\n         \"+ Create Room\"]\n        [:button.btn-secondary\n         {:on-click #(reset! show-join true)}\n         \"Join Room\"]]\n      \n       [:div.rooms-grid\n        (if (empty? @state/rooms)\n          [:div.empty-state\n           [:p \"No rooms yet. Create one to get started!\"]]\n         \n          (for [room @state/rooms]\n            ^{:key (:id room)}\n            [:div.room-card\n             {:on-click #(do\n                          (reset! state/current-room room)\n                          (reset! state/current-page :room))}\n             [:h3.room-name (:name room)]\n             [:div.room-info\n              [:span.room-badge\n               (if (:is_public room) \"Public\" \"Private\")]\n              (when-not (:is_public room)\n                [:span.room-code \"Code: \" (:access_code room)])]]))]]\n     \n      (when @show-create\n        [:div.modal\n         [:div.modal-content\n          [:h2 \"Create New Room\"]\n          [:form\n           {:on-submit (fn [e]\n                        (.preventDefault e)\n                        (api/create-room @room-name @is-public\n                          (fn [resp]\n                            (reset! show-create false)\n                            (reset! room-name \"\")\n                            (reset! is-public false)\n                            (api/get-rooms #(reset! state/rooms %)))))}\n          \n           [:input.modal-input\n            {:type \"text\"\n             :placeholder \"Room Name\"\n             :value @room-name\n             :on-change #(reset! room-name (.. % -target -value))\n             :required true}]\n          \n           [:label.checkbox-label\n            [:input\n             {:type \"checkbox\"\n              :checked @is-public\n              :on-change #(reset! is-public (.. % -target -checked))}]\n            \"Make this room public\"]\n          \n           [:div.modal-actions\n            [:button.btn-primary\n             {:type \"submit\"}\n             \"Create\"]\n            [:button.btn-secondary\n             {:type \"button\"\n              :on-click #(reset! show-create false)}\n             \"Cancel\"]]]]])\n     \n      (when @show-join\n        [:div.modal\n         [:div.modal-content\n          [:h2 \"Join Room\"]\n          [:form\n           {:on-submit (fn [e]\n                        (.preventDefault e)\n                        (api/join-room @join-code\n                          (fn [resp]\n                            (reset! show-join false)\n                            (reset! join-code \"\")\n                            (api/get-rooms #(reset! state/rooms %)))))}\n          \n           [:input.modal-input\n            {:type \"text\"\n             :placeholder \"Enter Room Code\"\n             :value @join-code\n             :on-change #(reset! join-code (.. % -target -value))\n             :required true}]\n          \n           [:div.modal-actions\n            [:button.btn-primary\n             {:type \"submit\"}\n             \"Join\"]\n            [:button.btn-secondary\n             {:type \"button\"\n              :on-click #(reset! show-join false)}\n             \"Cancel\"]]]]])])))"]}