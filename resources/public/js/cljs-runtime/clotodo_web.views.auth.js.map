{"version":3,"sources":["clotodo_web/views/auth.cljs"],"mappings":";AAKA,mCAAA,nCAAMA;AAAN,AACE,IAAMC,YAAU,gDAAA,hDAACC;IACXC,QAAM,gDAAA,hDAACD;IACPE,WAAS,gDAAA,hDAACF;IACVG,WAAS,gDAAA,hDAACH;AAHhB,AAIE;AAAA,AAAA,0FAAA,iFAAA,mFAAA,wEAAA,mFAAA,uEAAA,kBAAA,mFAAA,4EAAA,wCAAA,mFAAA,wEAAA,mFAAA,0EAAA,2CAAA,qHAAA,6DAAA,1HAQc,kBAAA,AAAAI,4BAAA,AAAA,SAAA,rBAAOL;AARrB,AASkB,uCAAA,hCAACQ,sBAAOR;WAT1B,kBAAA,mFAAA,0EAAA,2CAAA,qHAAA,6DAAA,1HAYc,kBAAA,AAAAK,4BAAA,KAAA,AAAA,jBAAWL;AAZzB,AAakB,uCAAA,hCAACQ,sBAAOR;WAb1B,0BAAA,mFAAA,yEAAA,2CAAA,+DAiBiB,WAAKS;AAAL,AACE,AAAiBA;;AACjB,oBAAA,AAAAJ,gBAAKL;AACH,8BAAA,AAAAK,uBAAA,AAAAA,9CAACK,uCAAYR,uBAAOE,UAClB,WAAKO;AAAL,AACE,OAACC,mCAAkB,AAAA,sFAAQD,MAAM,AAAA,mFAAOA;;;AAC5C,8BAAA,AAAAN,uBAAA,AAAAA,0BAAA,AAAAA,xEAACQ,uCAAYX,uBAAOC,0BAAUC,UAC5B,WAAKO;AAAL,AACE,OAACC,mCAAkB,AAAA,sFAAQD,MAAM,AAAA,mFAAOA;;;WAzBjE,mFAAA,8EAAA,2CAAA,qDAAA,QAAA,mEAAA,QAAA,sDAAA,AAAAN,uBAAA,+DAAA,WAAAC,jFA8BeJ;AA9Bf,AA+BmB,OAACM,sBAAON,MAAM,AAAA,AAAAI;GA/BjC,6DAAA,qBAkCK,kBAAA,AAAAD,4BAAA,KAAA,AAAA,mFAAA,8EAAA,2CAAA,qDAAA,OAAA,mEAAA,WAAA,sDAAA,AAAAA,0BAAA,+DAAA,WAAAS,jgBAAWd,6aAICG;AAJZ,AAKgB,OAACK,sBAAOL,SAAS,AAAA,AAAAW;sFAvCtC,mFAAA,8EAAA,2CAAA,qDAAA,WAAA,mEAAA,WAAA,sDAAA,AAAAT,0BAAA,+DAAA,WAAAE,vkBAkCK,6DAAA,sbAWUH;AA7Cf,AA8CmB,OAACI,sBAAOJ,SAAS,AAAA,AAAAG;GA9CpC,6DAAA,qBAAA,mFAAA,iFAAA,2CAAA,qDAAA,iBAmDM,kBAAA,AAAAF,4BAAA,UAAA,tBAAKL,iDAEP,kBAAA,AAAAK,0CAAA,AAAA,mFAAA,8EAAA,AAAAA,iDAAA,5OAAOU,2MACgBA","names":["clotodo-web.views.auth/auth-page","is-signin","reagent.core.atom","email","username","password","cljs.core/deref","p1__11950#","p1__11952#","cljs.core/reset!","e","clotodo-web.api/signin","resp","clotodo-web.state/save-token!","clotodo-web.api/signup","p1__11951#","clotodo-web.state/error"],"sourcesContent":["(ns clotodo-web.views.auth\n  (:require [reagent.core :as r]\n            [clotodo-web.state :as state]\n            [clotodo-web.api :as api]))\n\n(defn auth-page []\n  (let [is-signin (r/atom true)\n        email (r/atom \"\")\n        username (r/atom \"\")\n        password (r/atom \"\")]\n    (fn []\n      [:div.auth-container\n       [:div.auth-card\n        [:h1.auth-title \"Clotodo\"]\n        [:p.auth-subtitle \"Collaborative Todo Management\"]\n        \n        [:div.auth-tabs\n         [:button.auth-tab\n          {:class (when @is-signin \"active\")\n           :on-click #(reset! is-signin true)}\n          \"Sign In\"]\n         [:button.auth-tab\n          {:class (when-not @is-signin \"active\")\n           :on-click #(reset! is-signin false)}\n          \"Sign Up\"]]\n        \n        [:form.auth-form\n         {:on-submit (fn [e]\n                       (.preventDefault e)\n                       (if @is-signin\n                         (api/signin @email @password\n                           (fn [resp]\n                             (state/save-token! (:token resp) (:user resp))))\n                         (api/signup @email @username @password\n                           (fn [resp]\n                             (state/save-token! (:token resp) (:user resp))))))}\n         \n         [:input.auth-input\n          {:type \"email\"\n           :placeholder \"Email\"\n           :value @email\n           :on-change #(reset! email (.. % -target -value))\n           :required true}]\n         \n         (when-not @is-signin\n           [:input.auth-input\n            {:type \"text\"\n             :placeholder \"Username\"\n             :value @username\n             :on-change #(reset! username (.. % -target -value))\n             :required true}])\n         \n         [:input.auth-input\n          {:type \"password\"\n           :placeholder \"Password\"\n           :value @password\n           :on-change #(reset! password (.. % -target -value))\n           :required true}]\n         \n         [:button.auth-submit\n          {:type \"submit\"}\n          (if @is-signin \"Sign In\" \"Sign Up\")]]\n        \n        (when @state/error\n          [:div.error-message @state/error])]])))"]}